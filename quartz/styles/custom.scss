@use "./base.scss";

/*
Minimal Publish Theme by Steph Ango (@kepano)
Exact colors and typography from obsidian-minimal-publish
https://github.com/kepano/obsidian-minimal-publish
*/

// Hide footer
footer {
  display: none !important;
}

// Color scheme - exact values from publish.css
[saved-theme="light"] {
  --bg1: #FFF;
  --bg2: #F5F5F5;
  --bg3: #E5E5E5;
  --ui1: #E6E6E6;
  --ui2: #D6D6D6;
  --ui3: #C2C2C2;
  --tx1: #0F0F0F;
  --tx2: #767676;
  --tx3: #B5B5B5;
  --ax1: #607987;
  --ax2: #556B77;
  --ax3: #889EAA;
  --hl1: hsla(201,50%,40%,30%);

  color: var(--tx1);
  background: var(--bg1);

  h1, h2, h3, h4, h5, h6 {
    color: var(--tx1);
  }

  pre {
    background-color: var(--bg2) !important;
  }

  :not(pre) > code {
    background-color: var(--ui1) !important;
    color: var(--tx1) !important;
  }
}

[saved-theme="dark"] {
  --bg1: #262626;
  --bg2: #212121;
  --bg3: hsla(0,0,55%,0.12);
  --ui1: #333333;
  --ui2: #3B3B3B;
  --ui3: #595959;
  --tx1: #D1D1D1;
  --tx2: #999999;
  --tx3: #595959;
  --ax1: #889EAA;
  --ax2: #ACBBC3;
  --ax3: #67808E;
  --hl1: hsla(201,70%,40%,30%);

  color: var(--tx1);
  background: var(--bg1);

  h1, h2, h3, h4, h5, h6 {
    color: var(--tx1);
  }

  pre {
    background-color: var(--bg2) !important;
  }

  :not(pre) > code {
    background-color: var(--ui1) !important;
    color: var(--tx1) !important;
  }
}

// Typography - exact values from publish.css
body {
  --font-text-size: 16px;
  --font-small: 13px;
  --font-smaller: 11px;
  --font-smallest: 10px;

  --normal-weight: 400;
  --bold-weight: 600;

  --h1: 1.25em;
  --h2: 1.1em;
  --h3: 1.05em;
  --h4: 1em;
  --h5: 0.85em;
  --h6: 0.85em;

  --h1-weight: 600;
  --h2-weight: 600;
  --h3-weight: 600;
  --h4-weight: 500;
  --h5-weight: 500;
  --h6-weight: 400;

  --image-radius: 8px;
  --border-width: 1px;
}

// Headings
h1 {
  font-size: var(--h1);
  font-weight: var(--h1-weight);
}

h2 {
  font-size: var(--h2);
  font-weight: var(--h2-weight);
}

h3 {
  font-size: var(--h3);
  font-weight: var(--h3-weight);
}

h4 {
  font-size: var(--h4);
  font-weight: var(--h4-weight);
}

h5 {
  font-size: var(--h5);
  font-weight: var(--h5-weight);
}

h6 {
  font-size: var(--h6);
  font-weight: var(--h6-weight);
}

// Images
img {
  border-radius: var(--image-radius);
}

// Links
a {
  font-weight: var(--normal-weight);

  &:hover {
    opacity: 0.8;
  }
}

// Code
code {
  font-size: 0.85em;
}

// Lists
ol > li::marker,
ul > li::marker {
  color: var(--tx3);
}

// Tables - clean minimal style
table {
  border: var(--border-width) solid var(--ui1);
  border-collapse: collapse;

  th, td {
    padding: 4px 10px;
    border: none;
  }

  thead {
    border-bottom: var(--border-width) solid var(--ui2);
  }

  tbody tr {
    border-bottom: var(--border-width) solid var(--ui1);

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: var(--bg2);
    }
  }
}

// Sidebar styling - minimal.guide style
.sidebar.left {
  border-right: var(--border-width) solid var(--ui1);
  background-color: var(--bg2);
}

// Content max-width - narrower like minimal.guide
.page {
  max-width: 1280px !important;
}

// Line height and spacing
body {
  line-height: 1.6;
}

p, ul, ol {
  line-height: 1.7;
  margin-bottom: 1em;
}

// Tighter heading spacing
h1, h2, h3, h4, h5, h6 {
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

article > h1:first-child {
  margin-top: 0;
}

// Links - normal weight like minimal.guide
a {
  font-weight: var(--normal-weight) !important;
}

// List styling
ol > li::marker,
ul > li::marker {
  color: var(--tx3);
}

// Blockquotes
blockquote {
  border-left: 2px solid var(--ui2);
  padding-left: 1em;
  margin-left: 0;
  color: var(--tx2);
}

// Horizontal rules
hr {
  border: none;
  border-top: 1px solid var(--ui1);
  margin: 2em 0;
}
