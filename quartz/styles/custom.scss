@use "./base.scss";

/*
Zenn-inspired Dark Theme for Quartz
Based on Zenn's dark-blue color scheme
https://zenn.dev
*/

// Hide footer
footer {
  display: none !important;
}

// Light mode color scheme
[saved-theme="light"] {
  --bg1: #FFF;
  --bg2: #F5F5F5;
  --bg3: #E5E5E5;
  --ui1: #E6E6E6;
  --ui2: #D6D6D6;
  --ui3: #C2C2C2;
  --tx1: #0F0F0F;
  --tx2: #767676;
  --tx3: #B5B5B5;
  --ax1: #607987;
  --ax2: #556B77;
  --ax3: #889EAA;
  --hl1: hsla(201,50%,40%,30%);

  color: var(--tx1);
  background: var(--bg1);

  h1, h2, h3, h4, h5, h6 {
    color: var(--tx1);
  }

  pre {
    background-color: var(--bg2) !important;
  }

  :not(pre) > code {
    background-color: var(--ui1) !important;
    color: var(--tx1) !important;
  }
}

[saved-theme="dark"] {
  // Zenn dark-blue theme - color palette
  --bg1: #081d35;         // Page background (darkest blue)
  --bg2: #0d223a;         // Unused (reserved)
  --bg3: #162c49;         // Hover background
  --bg4: #151e2c;         // Article content background
  --bg5: #0b2c53;         // Code block background
  --ui1: #1b324a;         // Border light
  --ui2: #2e445c;         // Border medium
  --ui3: #344c69;         // Border dark
  --tx1: #ecf5ff;         // Primary text
  --tx2: #a4bcd5;         // Secondary text
  --tx3: #7a9cc6;         // Tertiary text
  --ax1: #3ea8ff;         // Zenn blue (primary accent)
  --ax2: #0f83fd;         // Link color
  --ax3: #0868ce;         // Hover accent
  --hl1: rgba(62, 168, 255, 0.2); // Highlight background

  color: var(--tx1);
  background: var(--bg1);

  h1, h2, h3, h4, h5, h6 {
    color: var(--tx1);
  }

  pre {
    background-color: var(--bg5) !important;
  }

  :not(pre) > code {
    background-color: var(--bg3) !important;
    color: var(--tx1) !important;
  }

  // Article content area - Zenn-style card design
  .center > article {
    background-color: var(--bg4) !important;
    border: 1px solid var(--ui2) !important;
    border-radius: 8px;
    padding: 2rem;

    // Main text color - white/light for readability
    & > p, & > ul > li, & > ol > li, & > blockquote, & > div:not(figure) {
      color: var(--tx1) !important;
    }

    // Headings
    h1, h2, h3, h4, h5, h6 {
      color: var(--tx1) !important;
    }

    // Links - Zenn blue
    a {
      color: var(--ax1) !important;
      text-decoration: none;

      &:hover {
        color: var(--ax3) !important;
      }
    }

    // Code blocks - preserve syntax highlighting
    figure[data-rehype-pretty-code-figure] {
      border: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }

    pre {
      border: none !important;
      border-radius: 0 !important;
      padding: 0 !important;
      margin: 0 !important;
      overflow-x: auto;
    }

    // Inline code (not in pre blocks)
    :not(pre) > code {
      background-color: var(--bg3) !important;
      color: var(--tx1) !important;
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-size: 0.9em;
    }
  }

  // Graph view - same style as article
  .graph-outer,
  .global-graph-container {
    background-color: var(--bg4) !important;
    border: 1px solid var(--ui2) !important;
    border-radius: 8px;
  }
}

// Typography settings
body {
  --font-text-size: 16px;
  --font-small: 13px;
  --font-smaller: 11px;
  --font-smallest: 10px;

  --normal-weight: 400;
  --bold-weight: 600;

  --h1: 1.125em;
  --h2: 1.05em;
  --h3: 1em;
  --h4: 0.90em;
  --h5: 0.85em;
  --h6: 0.85em;

  --h1-weight: 600;
  --h2-weight: 600;
  --h3-weight: 500;
  --h4-weight: 500;
  --h5-weight: 500;
  --h6-weight: 400;

  --image-radius: 8px;
  --border-width: 1px;
}

// Headings
h1 {
  font-size: var(--h1);
  font-weight: var(--h1-weight);
}

h2 {
  font-size: var(--h2);
  font-weight: var(--h2-weight);
}

h3 {
  font-size: var(--h3);
  font-weight: var(--h3-weight);
}

h4 {
  font-size: var(--h4);
  font-weight: var(--h4-weight);
}

h5 {
  font-size: var(--h5);
  font-weight: var(--h5-weight);
}

h6 {
  font-size: var(--h6);
  font-weight: var(--h6-weight);
}

// Images
img {
  border-radius: var(--image-radius);
}

// Links
a {
  font-weight: var(--normal-weight);

  &:hover {
    opacity: 0.8;
  }
}

// Code
code {
  font-size: 0.85em;
}

// Lists
ol > li::marker,
ul > li::marker {
  color: var(--tx3);
}

// Tables - clean minimal style
table {
  border: var(--border-width) solid var(--ui1);
  border-collapse: collapse;

  th, td {
    padding: 4px 10px;
    border: none;
  }

  thead {
    border-bottom: var(--border-width) solid var(--ui2);
  }

  tbody tr {
    border-bottom: var(--border-width) solid var(--ui1);

    &:last-child {
      border-bottom: none;
    }

    &:hover {
      background-color: var(--bg2);
    }
  }
}

// Explorer font size - same as TOC (0.75rem)
.folder-container {
  & div > a {
    font-size: 0.75rem !important; // Folder names: same as TOC
    line-height: 1.2rem !important;
  }

  & div > button span {
    font-size: 0.75rem !important; // Folder button text
    line-height: 1.2rem !important;
  }
}

.explorer-content ul li > a {
  font-size: 0.75rem !important; // File names: same as folders
  line-height: 1.2rem !important;
}
